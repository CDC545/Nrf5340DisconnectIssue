#
# Copyright (c) 2021 Nordic Semiconductor
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

# Enable the Bluetooth Controller
CONFIG_BT_CTLR=y                 
# Use Nordic's SoftDevice Controller implementationease the data length
CONFIG_BT_LL_SOFTDEVICE=y        
CONFIG_BT_MAX_CONN=20

# Bluetooth Controller and PHY configurations
CONFIG_BT_CTLR_PHY_2M=y
CONFIG_BT_USER_PHY_UPDATE=y
CONFIG_BT_CTLR_DATA_LENGTH_UPDATE=y

CONFIG_BT_EXT_ADV=y
CONFIG_BT_CTLR_ADV_EXT=y

# PHY Update procedure
CONFIG_BT_CTLR_PHY_UPDATE_SUPPORT=y

# Enable DLE support
CONFIG_BT_CTLR_DATA_LENGTH=y

# Add these connection monitoring parameters
CONFIG_BT_CTLR_CONN_RSSI=y
CONFIG_BT_CTLR_CONN_RSSI_INTERVAL=100

# Add flow control settings

CONFIG_BT_CTLR_RX_BUFFERS=30
CONFIG_BT_CTLR_TX_BUFFERS=30

CONFIG_BT_BUF_ACL_RX_COUNT=30
CONFIG_BT_BUF_CMD_TX_COUNT=32

# Buffer sizes
CONFIG_BT_CTLR_DATA_LENGTH_MAX=251
CONFIG_BT_BUF_ACL_TX_SIZE=251
CONFIG_BT_BUF_ACL_RX_SIZE=251

CONFIG_BT_CTLR_FLOW_CONTROL=y
CONFIG_BT_CTLR_TX_BUFFER_FILL=70  # Controls how aggressively TX buffers are filled

